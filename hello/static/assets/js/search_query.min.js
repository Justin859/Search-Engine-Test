$(document).ready(function(){var e=function(e){this.form_selector=e.form_selector,this.url=e.url||"/search/autocomplete/",this.delay=parseInt(e.delay||300),this.minimum_length=parseInt(e.minimum_length||3),this.form_elem=null,this.query_box=null};e.prototype.setup=function(){var e=this;this.form_elem=$(this.form_selector),this.query_box=this.form_elem.find("input[name=q]"),this.query_box.on("keyup",function(){var t=e.query_box.val();return t.length<e.minimum_length?!1:void e.fetch(t)}),$(".outside-form").on("click",function(){$(".ac-results").remove()}),this.form_elem.on("click",".ac-result",function(t){return e.query_box.val($(this).text()),$(".ac-results").remove(),$("#submit-button").trigger("click"),$("#submit-button").prop("disabled",!0),!1})},e.prototype.fetch=function(e){var t=this;$.ajax({url:this.url,data:{q:e},success:function(e){t.show_results(e)}})},e.prototype.show_results=function(e){$(".ac-results").remove();var t=e.results||[],r=$('<div class="ac-results"></div>'),o=$('<div class="result-wrapper"><a href="#" class="ac-result"></a></div>');if(t.length>0)for(var s in t){var u=o.clone();u.find(".ac-result").text(t[s]),r.append(u)}else{var u=o.clone();u.text("No results found."),r.append(u)}this.query_box.after(r)},$(document).ready(function(){window.autocomplete=new e({form_selector:".autocomplete-me"}),window.autocomplete.setup()})});